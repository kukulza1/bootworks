<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<header th:fragment="header-fragment">
    <div id="logo">
        <h2><a th:href="@{/}">Khit</a> </h2>
    </div>
    <nav>
        <!-- 로그인 전 -->
        <th:block sec:authorize="isAnonymous()">
            <ul id="topMenu">
                <li>
                    <a th:href="@{/member/login}">로그인</a>
                </li>
                <li>
                    <a th:href="@{/member/join}">회원가입</a>
                </li>
                <li>
                    <a th:href="@{/member/list}">회원목록</a>
                </li>
                <li>
                    <a th:href="@{/board/list}">게시판</a>
                </li>
            </ul>
        </th:block>
        <!-- 로그인 후 -->
        <th:block sec:authorize="isAuthenticated()">
            <ul id="topMenu">
                <li>
                    <span sec:authentication="principal.member.name" style="color: #ddd"></span>&nbsp;님
                    <a th:href="@{/member/logout}">로그아웃</a>
                </li>
                <li>
                    <a th:href="@{/member/update}">나의정보</a>
                </li>
                <li>
                    <a th:href="@{/member/list}">회원목록</a>
                </li>
                <li>
                    <a th:href="@{/board/list}">게시판</a>
                </li>
            </ul>
        </th:block>
    </nav>
</header>